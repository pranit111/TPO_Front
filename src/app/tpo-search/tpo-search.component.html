<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TPO Search Portal</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Onest:wght@400;700&family=Roboto+Flex:wght@400;700&display=swap');

    .font-onest {
      font-family: 'Onest', sans-serif;
    }

    .font-roboto-flex {
      font-family: 'Roboto Flex', sans-serif;
    }

    .font-inter {
      font-family: 'Inter', sans-serif;
    }
  </style>
</head>

<body class="bg-cover bg-center min-h-screen" style="background-image: url('Main_bg_blue.png');">
  <!-- Navigation Bar --><nav class="bg-white shadow-lg ml-[350px] mr-[350px] rounded-xl">
  <div class="max-w-7xl mx-auto px-4">
    <div class="flex justify-between h-16">
      <div class="flex items-center">
        <!-- Logo -->

        <!-- Navigation Links -->
        <div class="hidden sm:ml-6 sm:flex sm:space-x-2">
          <button (click)="setActiveTab('students')"
            [class.border-blue-500]="activeTab === 'students'"
            class="inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"
            [class.text-gray-900]="activeTab === 'students'"
            [class.text-gray-500]="activeTab !== 'students'">
            Student Search
          </button>
          <button (click)="setActiveTab('posts')"
            [class.border-blue-500]="activeTab === 'posts'"
            class="inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"
            [class.text-gray-900]="activeTab === 'posts'"
            [class.text-gray-500]="activeTab !== 'posts'">
            Post Search
          </button>
          <button (click)="setActiveTab('applications')"
            [class.border-blue-500]="activeTab === 'applications'"
            class="inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"
            [class.text-gray-900]="activeTab === 'applications'"
            [class.text-gray-500]="activeTab !== 'applications'">
            Application Search
          </button>
          <button (click)="setActiveTab('placements')"
          [class.border-blue-500]="activeTab === 'placements'"
          class="inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"
          [class.text-gray-900]="activeTab === 'placements'"
          [class.text-gray-500]="activeTab !== 'placements'">
          Placements Search
        </button>
        </div>
      </div>
    </div>
  </div>
</nav>


  <!-- Main Content Area -->
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <!-- Student Search Section --><div *ngIf="activeTab === 'students'" class="bg-white rounded-xl shadow-lg p-6">
  <div class="flex justify-between mb-4">
    <!-- Student Search Bar -->      <div class="flex-grow mr-4">
        <div class="search-container flex justify-between items-center border-[2px] border-gray-500 rounded-[20px] w-full h-[42px] px-4 bg-white shadow-md relative z-10">
          <input [(ngModel)]="filters.firstName" type="text" placeholder="Search for Student"(keyup.enter)="loadStudents()"
            class="text-[#878787] text-[16px] font-roboto-flex font-extralight italic w-full bg-transparent outline-none" />
          <img src="Search.png" alt="Search Icon" class="w-[30px] h-[30px] object-contain cursor-pointer ml-4 action-button"
            (click)="loadStudents()" />
        </div>
      </div>
      <!-- Buttons -->
      <div class="flex space-x-2">

        <button (click)="downloadExcel()" class="filter-button text-white px-4 py-2 rounded-lg hover:bg-blue-700">
          <img src="Download.png" alt="Download" class="w-6 h-6 inline-block" />
        </button>
      </div>
  </div>

  <!-- Student Filter Bar -->
  <div class="flex justify-between items-center border-[2px] border-gray-500 rounded-[20px] w-full h-[42px] px-4 mb-6 bg-[#4073BF] shadow-md relative z-10">
    <select [(ngModel)]="filters.academicYear" (ngModelChange)="onFilterChange()"
      class="bg-[#4073BF] text-white text-[16px] font-roboto-flex rounded-[20px] px-4 py-1 focus:outline-none">
      <option value="">Year</option>
      <option *ngFor="let year of academicYears" [value]="year">{{ year }}</option>
    </select>
    <select [(ngModel)]="filters.department" (ngModelChange)="onFilterChange()"
      class="bg-[#4073BF] text-white text-[16px] font-roboto-flex rounded-[20px] px-4 py-1 focus:outline-none">
      <option value="">Department</option>
      <option *ngFor="let dept of departments" [value]="dept">{{ dept }}</option>
    </select>
    <select [(ngModel)]="filters.minAvgMarks" (ngModelChange)="onFilterChange()"
      class="bg-[#4073BF] text-white text-[16px] font-roboto-flex rounded-[20px] px-4 py-1 focus:outline-none">
      <option [ngValue]="undefined">Min Avg Marks</option>
      <option *ngFor="let mark of avgMarks" [ngValue]="mark">{{mark}}%</option>
    </select>
    <select [(ngModel)]="filters.maxAvgMarks" (ngModelChange)="onFilterChange()"
      class="bg-[#4073BF] text-white text-[16px] font-roboto-flex rounded-[20px] px-4 py-1 focus:outline-none">
      <option [ngValue]="undefined">Max Avg Marks</option>
      <option *ngFor="let mark of avgMarks" [ngValue]="mark">{{mark}}%</option>
    </select>
    <select [(ngModel)]="filters.yearOfPassing" (ngModelChange)="onFilterChange()"
      class="bg-[#4073BF] text-white text-[16px] font-roboto-flex rounded-[20px] px-4 py-1 focus:outline-none">
      <option [ngValue]="undefined">Year of Passing</option>
      <option *ngFor="let year of passingYears" [ngValue]="year">{{year}}</option>
    </select>
    <button (click)="resetStudentFilters()" class="bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-[20px] text-[14px] font-medium">
      Clear
    </button>
  </div>

  <!-- Student Table -->
  <div class="table-container overflow-x-auto">
    <table class="min-w-full divide-y divide-gray-200">
      <thead>
        <tr>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">First Name</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Middle Name</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Last Name</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Gender</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">DOB</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">GR No.</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">SSC%</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">HSC%</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Diploma%</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Average%</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Department</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Year</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Backlogs</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
        </tr>
      </thead>
      <tbody class="bg-white divide-y divide-gray-200">
        <tr *ngFor="let student of students" class="table-row hover:bg-gray-50 hover-shadow">
          <td class="px-6 py-4 whitespace-nowrap">
            <div class="flex items-center space-x-4"><a [routerLink]="['/view_profile', student.id]">
              <div class="h-10 w-10 rounded-full bg-blue-200 flex items-center justify-center flex-shrink-0">
                <span class="text-gray-600 font-medium">{{student.firstName[0]}}</span>
              </div>
            </a>
            <a [routerLink]="['/view_profile', student.id]">
              <div class="max-w-xs">
                <div class="text-sm font-medium text-gray-500 truncate">{{student.firstName}}</div>
              </div></a>
            </div>
          </td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 max-w-xs truncate">{{student.middleName}}</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 max-w-xs truncate">{{student.lastName}}</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{student.gender}}</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{student.dateOfBirth}}</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{student.grNo}}</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{student.sscMarks}}%</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{student.hscMarks || '-'}}</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{student.diplomaMarks || '-'}}</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{student.avgMarks | number:'1.3-3'}}</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{student.department}}</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{student.academicYear}}</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{student.noOfBacklogs}}</td>
          <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium" ><button class="text-indigo-600 hover:text-indigo-900"
             >
              <img (click)="OnStudentAction(student.id)" src="edit.png" alt="Edit" class="w-[20px] h-[20px] sm:w-[26px] sm:h-[24px] object-contain" />
      
            
          </button>
          <div *ngIf="showStudentActionModal" class="fixed inset-0 backdrop-blur bg-opacity-50 overflow-y-auto h-full w-full z-50">
            <div class="relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white">
              <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-semibold text-gray-800">Actions</h3>
                <button (click)="showStudentActionModal=false" class="text-gray-400 hover:text-gray-500">
                  <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                  </svg>
                </button>
              </div>
              
              <div class="flex flex-col space-y-4">
                <button
                  class="rounded-md bg-blue-500 text-white px-4 py-2 hover:bg-blue-600 w-full"
                  (click)="onResult('ssc', selectedstudent.id)">
                  View SSC Result
                </button>
                
                <button *ngIf="selectedstudent.hscMarks !== null && selectedstudent.hscMarks > 0"
                  class="rounded-md bg-blue-500 text-white px-4 py-2 hover:bg-blue-600 w-full"
                  (click)="onResult('hsc', selectedstudent.id)">
                  View HSC Result
                </button>


                
                <button  *ngIf="selectedstudent.diplomaMarks !== null && selectedstudent.diplomaMarks > 0"
                  class="rounded-md bg-blue-500 text-white px-4 py-2 hover:bg-blue-600 w-full"
                  (click)="onResult('diploma', selectedstudent.id)">
                  View Diploma Result
                </button>
                
                <button
                  class="rounded-md bg-blue-500 text-white px-4 py-2 hover:bg-blue-600 w-full"
                  (click)="onResume(student.id)">
                  View Resume
                </button>
              </div>
            </div>
          </div>
          
        
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Student Pagination Controls -->
  <div class="bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6">
    <div class="flex-1 flex justify-between sm:hidden">
      <button [disabled]="studentPagination.first" 
              (click)="onStudentPageChange(studentPagination.currentPage - 1)"
              class="relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed">
        Previous
      </button>
      <button [disabled]="studentPagination.last" 
              (click)="onStudentPageChange(studentPagination.currentPage + 1)"
              class="ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed">
        Next
      </button>
    </div>
    <div class="hidden sm:flex-1 sm:flex sm:items-center sm:justify-between">
      <div class="flex items-center space-x-2">
        <p class="text-sm text-gray-700">
          Showing
          <span class="font-medium">{{ studentPagination.currentPage * studentPagination.pageSize + 1 }}</span>
          to
          <span class="font-medium">{{ getStudentEndIndex() }}</span>
          of
          <span class="font-medium">{{ studentPagination.totalElements }}</span>
          results
        </p>
        <select [(ngModel)]="studentPagination.pageSize" 
                (ngModelChange)="onStudentPageSizeChange($event)"
                class="border border-gray-300 rounded px-2 py-1 text-sm">
          <option [value]="5">5 per page</option>
          <option [value]="10">10 per page</option>
          <option [value]="25">25 per page</option>
          <option [value]="50">50 per page</option>
        </select>
      </div>
      <div>
        <nav class="relative z-0 inline-flex rounded-md shadow-sm -space-x-px" aria-label="Pagination">
          <button [disabled]="studentPagination.first" 
                  (click)="onStudentPageChange(studentPagination.currentPage - 1)"
                  class="relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed">
            <span class="sr-only">Previous</span>
            <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
            </svg>
          </button>
          
          <button *ngFor="let page of getStudentPageNumbers()" 
                  (click)="onStudentPageChange(page)"
                  [class.bg-blue-50]="page === studentPagination.currentPage"
                  [class.border-blue-500]="page === studentPagination.currentPage"
                  [class.text-blue-600]="page === studentPagination.currentPage"
                  [class.bg-white]="page !== studentPagination.currentPage"
                  [class.border-gray-300]="page !== studentPagination.currentPage"
                  [class.text-gray-500]="page !== studentPagination.currentPage"
                  class="relative inline-flex items-center px-4 py-2 border text-sm font-medium hover:bg-gray-50">
            {{ page + 1 }}
          </button>
          
          <button [disabled]="studentPagination.last" 
                  (click)="onStudentPageChange(studentPagination.currentPage + 1)"
                  class="relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed">
            <span class="sr-only">Next</span>
            <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
            </svg>
          </button>
        </nav>
      </div>
    </div>
  </div>
</div>
<!-- Placements Search Section -->
<div *ngIf="activeTab === 'placements'" class="bg-white rounded-xl shadow-lg p-6">
  <div class="flex justify-between mb-4">
    <!-- Placements Search Bar -->
    <div class="flex-grow mr-4">
      <div class="flex justify-between items-center border-[2px] border-gray-500 rounded-[20px] w-full h-[42px] px-4 bg-white shadow-md relative z-10">
        <input [(ngModel)]="placementFilters.keyword" type="text" placeholder="Search by student, company or position" (keyup.enter)="loadPlacements()"
          class="text-[#878787] text-[16px] font-roboto-flex font-extralight italic w-full bg-transparent outline-none" />
        <img src="Search.png" alt="Search Icon" class="w-[30px] h-[30px] object-contain cursor-pointer ml-4"
          (click)="loadPlacements()" />
      </div>
    </div>
    <!-- Buttons -->
    <div class="flex space-x-2">

      <button (click)="downloadExcel()" class="filter-button text-white px-4 py-2 rounded-lg hover:bg-blue-700">
        <img src="Download.png" alt="Download" class="w-6 h-6 inline-block" />
      </button>
    </div>
  </div>

  <!-- Placements Filter Bar -->
  <div class="flex justify-between items-center border-[2px] border-gray-500 rounded-[20px] w-full h-[42px] px-4 mb-6 bg-[#4073BF] shadow-md relative z-10">
    <select [(ngModel)]="placementFilters.companyName" (ngModelChange)="onPlacementFilterChange()"
      class="bg-[#4073BF] text-white text-[16px] font-roboto-flex rounded-[20px] px-4 py-1 focus:outline-none">
      <option value="">Company</option>
      <option *ngFor="let company of companies" [value]="company.name">{{company.name}}</option>
    </select>
    <select [(ngModel)]="placementFilters.department" (ngModelChange)="onPlacementFilterChange()"
      class="bg-[#4073BF] text-white text-[16px] font-roboto-flex rounded-[20px] px-4 py-1 focus:outline-none">
      <option value="">Department</option>
      <option *ngFor="let dept of departments" [value]="dept">{{dept}}</option>
    </select>
 
    <input type="number" [(ngModel)]="placementFilters.minPackage" placeholder="Min Package" (keyup.enter)="onPlacementFilterChange()"
      class="bg-[#4073BF] text-white text-[16px] font-roboto-flex rounded-[20px] px-4 py-1 focus:outline-none w-32 placeholder-gray-300" />
    <input type="number" [(ngModel)]="placementFilters.maxPackage" placeholder="Max Package" (keyup.enter)="onPlacementFilterChange()"
      class="bg-[#4073BF] text-white text-[16px] font-roboto-flex rounded-[20px] px-4 py-1 focus:outline-none w-32 placeholder-gray-300" />
    <input type="date" [(ngModel)]="placementFilters.fromDate" (ngModelChange)="onPlacementFilterChange()"
      class="bg-[#4073BF] text-white text-[16px] font-roboto-flex rounded-[20px] px-4 py-1 focus:outline-none w-40" 
      title="From Date" />
    <input type="date" [(ngModel)]="placementFilters.toDate" (ngModelChange)="onPlacementFilterChange()"
      class="bg-[#4073BF] text-white text-[16px] font-roboto-flex rounded-[20px] px-4 py-1 focus:outline-none w-40"
      title="To Date" />
    <button (click)="resetPlacementFilters()" class="bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-[20px] text-[14px] font-medium">
      Clear
    </button>
  </div>

  <!-- Placements Table -->
  <div class="table-container overflow-x-auto">
    <table class="min-w-full divide-y divide-gray-200">
      <thead>
        <tr>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Student Name</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Department</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Company</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Position</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Package</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Joining Date</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
        </tr>
      </thead>
      <tbody class="bg-white divide-y divide-gray-200">
        <tr *ngFor="let placement of placements" class="table-row hover:bg-gray-50 hover-shadow">
          <td class="px-6 py-4 whitespace-nowrap">
            <div class="flex items-center space-x-4">
              <div class="h-10 w-10 rounded-full bg-blue-200 flex items-center justify-center flex-shrink-0">
                <span class="text-gray-600 font-medium">{{placement.application.student.firstName[0]}}</span>
              </div>
              <div class="max-w-xs">
                <div class="text-sm font-medium text-gray-900 truncate">{{placement.application.student.firstName}}</div>
              </div>
            </div>
          </td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 max-w-xs truncate">{{placement.application.student.department}}</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 max-w-xs truncate">{{placement.application.jobPost.company.name}}</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 max-w-xs truncate">{{placement.application.jobPost.jobDesignation}}</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{formatCurrency(placement.placedPackage)}}</td>
          <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{placement.placementDate}}</td>

        
          <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
            <button class="text-indigo-600 hover:text-indigo-900 mr-2" (click)="onViewPlacementDetails(placement.id)">
              <img src="view.png" alt="View" class="w-[20px] h-[20px] sm:w-[26px] sm:h-[24px] object-contain" />
            </button>
            <button class="text-indigo-600 hover:text-indigo-900" (click)="onOfferLetter(placement.id)">
              <img src="offerletter.png" alt="Download" class="w-[20px] h-[20px] sm:w-[26px] sm:h-[24px] object-contain" />
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Placement Pagination Controls -->
  <div class="bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6">
    <div class="flex-1 flex justify-between sm:hidden">
      <button [disabled]="placementPagination.first" 
              (click)="onPlacementPageChange(placementPagination.currentPage - 1)"
              class="relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed">
        Previous
      </button>
      <button [disabled]="placementPagination.last" 
              (click)="onPlacementPageChange(placementPagination.currentPage + 1)"
              class="ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed">
        Next
      </button>
    </div>
    <div class="hidden sm:flex-1 sm:flex sm:items-center sm:justify-between">
      <div class="flex items-center space-x-2">
        <p class="text-sm text-gray-700">
          Showing
          <span class="font-medium">{{ placementPagination.currentPage * placementPagination.pageSize + 1 }}</span>
          to
          <span class="font-medium">{{ getPlacementEndIndex() }}</span>
          of
          <span class="font-medium">{{ placementPagination.totalElements }}</span>
          results
        </p>
        <select [(ngModel)]="placementPagination.pageSize" 
                (ngModelChange)="onPlacementPageSizeChange($event)"
                class="border border-gray-300 rounded px-2 py-1 text-sm">
          <option [value]="5">5 per page</option>
          <option [value]="10">10 per page</option>
          <option [value]="25">25 per page</option>
          <option [value]="50">50 per page</option>
        </select>
      </div>
      <div>
        <nav class="relative z-0 inline-flex rounded-md shadow-sm -space-x-px" aria-label="Pagination">
          <button [disabled]="placementPagination.first" 
                  (click)="onPlacementPageChange(placementPagination.currentPage - 1)"
                  class="relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed">
            <span class="sr-only">Previous</span>
            <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
            </svg>
          </button>
          
          <button *ngFor="let page of getPlacementPageNumbers()" 
                  (click)="onPlacementPageChange(page)"
                  [class.bg-blue-50]="page === placementPagination.currentPage"
                  [class.border-blue-500]="page === placementPagination.currentPage"
                  [class.text-blue-600]="page === placementPagination.currentPage"
                  [class.bg-white]="page !== placementPagination.currentPage"
                  [class.border-gray-300]="page !== placementPagination.currentPage"
                  [class.text-gray-500]="page !== placementPagination.currentPage"
                  class="relative inline-flex items-center px-4 py-2 border text-sm font-medium hover:bg-gray-50">
            {{ page + 1 }}
          </button>
          
          <button [disabled]="placementPagination.last" 
                  (click)="onPlacementPageChange(placementPagination.currentPage + 1)"
                  class="relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed">
            <span class="sr-only">Next</span>
            <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
            </svg>
          </button>
        </nav>
      </div>
    </div>
  </div>

  <!-- Placement Details Modal -->
  <div *ngIf="showPlacementDetailsModal" class="fixed inset-0 backdrop-blur bg-opacity-50 overflow-y-auto h-full w-full z-50">
    <div class="relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white">
      <div class="flex justify-between items-center mb-4">
        <h3 class="text-lg font-semibold text-gray-800">Placement Details</h3>
        <button (click)="onPlacementDetailsClose()" class="text-gray-400 hover:text-gray-500">
          <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
      
      <div class="mb-4">
        <p class="text-sm text-gray-600 mb-1">Student Name</p>
        <p class="text-md font-medium text-gray-800">{{selectedPlacement?.application?.student?.firstName}}</p>
      </div>
      
      <div class="mb-4">
        <p class="text-sm text-gray-600 mb-1">Department</p>
        <p class="text-md font-medium text-gray-800">{{selectedPlacement?.application?.student?.department}}</p>
      </div>
      
      <div class="mb-4">
        <p class="text-sm text-gray-600 mb-1">Company</p>
        <p class="text-md font-medium text-gray-800">{{selectedPlacement?.application?.jobPost?.company?.name}}</p>
      </div>
      
      <div class="mb-4">
        <p class="text-sm text-gray-600 mb-1">Position</p>
        <p class="text-md font-medium text-gray-800">{{selectedPlacement?.application?.jobPost?.jobDesignation}}</p>
      </div>
      
      <div class="mb-4">
        <p class="text-sm text-gray-600 mb-1">Package</p>
        <p class="text-md font-medium text-gray-800">{{selectedPlacement?.placedPackage}}</p>
      </div>
      
      <div class="mb-4">
        <p class="text-sm text-gray-600 mb-1">Joining Date</p>
        <p class="text-md font-medium text-gray-800">{{selectedPlacement?.placementDate}}</p>
      </div>
      
      <div class="flex justify-end">
        <button (click)="onOfferLetter(selectedPlacement?.id ?? 0)" class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600">
          Download Offer Letter
        </button>
      </div>
    </div>
  </div>
</div>
    <!-- Post Search Section -->
    <div *ngIf="activeTab === 'posts'" class="bg-white rounded-xl shadow-lg p-6">
      <div class="flex justify-between mb-4">
        <!-- Post Search Bar -->
        <div class="flex-grow mr-4">
          <div class="flex justify-between items-center border-[2px] border-gray-500 rounded-[20px] w-full h-[42px] px-4 bg-white shadow-md relative z-10">
            <input [(ngModel)]="postFilters.position" type="text" placeholder="Search by Position"(keyup.enter)="loadPosts()"
              class="text-[#878787] text-[16px] font-roboto-flex font-extralight italic w-full bg-transparent outline-none" />
            <img src="Search.png" alt="Search Icon" class="w-[30px] h-[30px] object-contain cursor-pointer ml-4"
              (click)="loadPosts()" />
          </div>
        </div>
        <!-- Buttons -->
        <div class="flex space-x-2">
        
          <button (click)="downloadExcel()" class="text-white px-4 py-2 rounded-lg hover:bg-blue-700">
            <img src="Download.png" alt="Download" class="w-6 h-6 inline-block" />
          </button>
        </div>
      </div>

      <!-- Post Filter Bar -->
      <div class="flex justify-between items-center border-[2px] border-gray-500 rounded-[20px] w-full h-[42px] px-4 mb-6 bg-[#4073BF] shadow-md relative z-10">
        <select [(ngModel)]="postFilters.company" (ngModelChange)="onFilterChange()"
          class="bg-[#4073BF] text-white text-[16px] font-roboto-flex rounded-[20px] px-4 py-1 focus:outline-none">
          <option value="">Company</option>
          <option *ngFor="let company of companies" [value]="company.name">{{company.name}}</option>
        </select>
        <select [(ngModel)]="postFilters.jobType" (ngModelChange)="onFilterChange()"
          class="bg-[#4073BF] text-white text-[16px] font-roboto-flex rounded-[20px] px-4 py-1 focus:outline-none">
          <option value="">Job Type</option>
          <option value="Full-Time">Full Time</option>
          <option value="Part-Time">Part Time</option>
          <option value="Internship">Internship</option>
        </select>
        <select [(ngModel)]="postFilters.status" (ngModelChange)="onFilterChange()"
          class="bg-[#4073BF] text-white text-[16px] font-roboto-flex rounded-[20px] px-4 py-1 focus:outline-none">
          <option value="">Status</option>
          <option value="Taking Applications">Taking Applications</option>
          <option value="Closed">Closed</option>
        </select>
        <select [(ngModel)]="postFilters.studentYear" (ngModelChange)="onFilterChange()"
          class="bg-[#4073BF] text-white text-[16px] font-roboto-flex rounded-[20px] px-4 py-1 focus:outline-none">
          <option value="">Student Year</option>
          <option *ngFor="let year of studentYearOptions" [value]="year.value">{{year.label}}</option>
        </select>
        <input type="number" [(ngModel)]="postFilters.minSalary" placeholder="Min Package" (keyup.enter)="onFilterChange()"
          class="bg-[#4073BF] text-white text-[16px] font-roboto-flex rounded-[20px] px-4 py-1 focus:outline-none w-32" />
        <input type="number" [(ngModel)]="postFilters.maxSalary" placeholder="Max Package" (keyup.enter)="onFilterChange()"
          class="bg-[#4073BF] text-white text-[16px] font-roboto-flex rounded-[20px] px-4 py-1 focus:outline-none w-32" />
           <button (click)="resetPostFilters()" class="bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-[20px] text-[14px] font-medium">
          Clear
        </button>
      </div>

      <!-- Post Table -->
      <div class="table-container overflow-x-auto">
        <table class="min-w-full divide-y divide-gray-200">
          <thead>
            <tr>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Company</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Industry</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Position</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Location</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Job Type</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Package</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Preferred Course</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Min %</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
            </tr>
          </thead>
          <tbody class="bg-white divide-y divide-gray-200">
            <tr *ngFor="let post of posts" class="table-row hover:bg-gray-50 hover-shadow">
              <td class="px-6 py-4 whitespace-nowrap">
                <div class="flex items-center space-x-4">
                  <div class="h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center flex-shrink-0">
                    <span class="text-gray-600 font-medium">{{post.company.name[0]}}</span>
                  </div>
                  <div>
                    <div class="text-sm font-medium text-gray-900">{{post.company.name}}</div>
                    <div class="text-sm text-gray-500">{{post.company.email}}</div>
                  </div>
                </div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{post.company.industryType}}</td>
              <td class="px-6 py-4 whitespace-nowrap">
                <div class="max-w-xs">
                  <div class="text-sm font-medium text-gray-900 truncate">{{post.jobDesignation}}</div>
                  <div class="text-sm text-gray-500 truncate" [title]="post.description">{{post.description}}</div>
                </div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{post.location}}</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{post.jobType}}</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{post.packageAmount}} LPA</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{post.preferredCourse || 'All Years'}}</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{post.minPercentage}}%</td>
              <td class="px-6 py-4 whitespace-nowrap">
                <span [class]="'px-2 inline-flex text-xs leading-5 font-semibold rounded-full ' + 
                  (post.status === 'OPEN' ? 'bg-green-100 text-green-800' : 
                  post.status === 'CANCELLED' ? 'bg-red-100 text-red-800' : 
                  post.status === 'CLOSED' ? 'bg-orange-100 text-orange-800' : 
                  post.status === 'EXPIRED' ? 'bg-gray-100 text-gray-800' : 
                  post.status === 'ON_HOLD' ? 'bg-yellow-100 text-yellow-800' : 
                  post.status === 'SELECTION_IN_PROGRESS' ? 'bg-blue-100 text-blue-800' : 
                  post.status === 'FILLED' ? 'bg-purple-100 text-purple-800' : 
                  'bg-gray-100 text-gray-500')">
                  {{ post.status === 'SELECTION_IN_PROGRESS' ? 'SELECTION IN PROGRESS' : post.status }}
                </span>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                <button class="text-indigo-600 hover:text-indigo-900" (click)="onPostEdit(post.id)">
                  <img src="edit.png" alt="Edit" class="w-[20px] h-[20px] sm:w-[26px] sm:h-[24px] object-contain" />
                </button>
              </td>
            </tr>
          </tbody>
        </table>
        
        <!-- Post Pagination Controls -->
        <div class="bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6">
          <div class="flex-1 flex justify-between sm:hidden">
            <button [disabled]="postPagination.first" 
                    (click)="onPostPageChange(postPagination.currentPage - 1)"
                    class="relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed">
              Previous
            </button>
            <button [disabled]="postPagination.last" 
                    (click)="onPostPageChange(postPagination.currentPage + 1)"
                    class="ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed">
              Next
            </button>
          </div>
          <div class="hidden sm:flex-1 sm:flex sm:items-center sm:justify-between">
            <div class="flex items-center space-x-2">
              <p class="text-sm text-gray-700">
                Showing
                <span class="font-medium">{{ postPagination.currentPage * postPagination.pageSize + 1 }}</span>
                to
                <span class="font-medium">{{ getPostEndIndex() }}</span>
                of
                <span class="font-medium">{{ postPagination.totalElements }}</span>
                results
              </p>
              <select [(ngModel)]="postPagination.pageSize" 
                      (ngModelChange)="onPostPageSizeChange($event)"
                      class="border border-gray-300 rounded px-2 py-1 text-sm">
                <option [value]="5">5 per page</option>
                <option [value]="10">10 per page</option>
                <option [value]="25">25 per page</option>
                <option [value]="50">50 per page</option>
              </select>
            </div>
            <div>
              <nav class="relative z-0 inline-flex rounded-md shadow-sm -space-x-px" aria-label="Pagination">
                <button [disabled]="postPagination.first" 
                        (click)="onPostPageChange(postPagination.currentPage - 1)"
                        class="relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed">
                  <span class="sr-only">Previous</span>
                  <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
                  </svg>
                </button>
                
                <button *ngFor="let page of getPostPageNumbers()" 
                        (click)="onPostPageChange(page)"
                        [class.bg-blue-50]="page === postPagination.currentPage"
                        [class.border-blue-500]="page === postPagination.currentPage"
                        [class.text-blue-600]="page === postPagination.currentPage"
                        [class.bg-white]="page !== postPagination.currentPage"
                        [class.border-gray-300]="page !== postPagination.currentPage"
                        [class.text-gray-500]="page !== postPagination.currentPage"
                        class="relative inline-flex items-center px-4 py-2 border text-sm font-medium hover:bg-gray-50">
                  {{ page + 1 }}
                </button>
                
                <button [disabled]="postPagination.last" 
                        (click)="onPostPageChange(postPagination.currentPage + 1)"
                        class="relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed">
                  <span class="sr-only">Next</span>
                  <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                  </svg>
                </button>
              </nav>
            </div>
          </div>
        </div>
        
        <div *ngIf="showEditPostModal" class="fixed inset-0 backdrop-blur bg-opacity-50 overflow-y-auto h-full w-full z-50">
          <div class="relative top-20 mx-auto p-5 border max-w-4xl shadow-lg rounded-md bg-white">
            <div class="flex justify-between items-center mb-4">
              <h3 class="text-lg font-semibold text-gray-800">Edit Post</h3>
              <button (click)="onPostEditCancel()" class="text-gray-400 hover:text-gray-500">
                <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
              </button>
            </div>
            
            <form #editPostForm="ngForm" (ngSubmit)="onUpdatePost()" class="space-y-6">
              <!-- Basic Job Information Section -->
              <div class="bg-gray-50 p-4 rounded-md">
                <h4 class="text-md font-medium text-gray-700 mb-3">Job Details</h4>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <!-- Job Designation -->
                  <div>
                    <label class="block text-sm font-medium text-gray-700">Job Designation</label>
                    <input type="text" [(ngModel)]="selectedPost.title" name="jobDesignation" #jobDesignationField="ngModel" required
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                    <div class="text-red-500 text-sm mt-1" *ngIf="jobDesignationField.invalid && (jobDesignationField.dirty || jobDesignationField.touched || editPostForm.submitted)">
                      <div *ngIf="jobDesignationField.errors?.['required']">Job designation is required</div>
                    </div>
                  </div>
                  
                  <!-- Job Type -->
                  <div>
                    <label class="block text-sm font-medium text-gray-700">Job Type</label>
                    <select [(ngModel)]="selectedPost.jobType" name="jobType" #jobTypeField="ngModel" required
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                      <option value="">Select Job Type</option>
                      <option value="FULL_TIME">Full Time</option>
                      <option value="PART_TIME">Part Time</option>
                      <option value="INTERNSHIP">Internship</option>
                    </select>
                    <div class="text-red-500 text-sm mt-1" *ngIf="jobTypeField.invalid && (jobTypeField.dirty || jobTypeField.touched || editPostForm.submitted)">
                      <div *ngIf="jobTypeField.errors?.['required']">Job type is required</div>
                    </div>
                  </div>
                  
                  <!-- Status -->
                  <div>
                    <label class="block text-sm font-medium text-gray-700">Status</label>
                    <select [(ngModel)]="selectedPost.status" name="status" #statusField="ngModel" required
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                      <option value="">Select Status</option>
                      <option value="OPEN">OPEN</option>
                      <option value="CLOSED">CLOSED</option>
                      <option value="SELECTION_IN_PROGRESS">SELECTION IN PROGRESS</option>
                      <option value="FILLED">FILLED</option>
                      <option value="ON_HOLD">ON HOLD</option>
                      <option value="CANCELLED">CANCELLED</option>
                      <option value="EXPIRED">EXPIRED</option>
                    </select>
                    <div class="text-red-500 text-sm mt-1" *ngIf="statusField.invalid && (statusField.dirty || statusField.touched || editPostForm.submitted)">
                      <div *ngIf="statusField.errors?.['required']">Status is required</div>
                    </div>
                  </div>
                  
                  <!-- Location -->
                  <div>
                    <label class="block text-sm font-medium text-gray-700">Location</label>
                    <input type="text" [(ngModel)]="selectedPost.location" name="location" #locationField="ngModel" required
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                    <div class="text-red-500 text-sm mt-1" *ngIf="locationField.invalid && (locationField.dirty || locationField.touched || editPostForm.submitted)">
                      <div *ngIf="locationField.errors?.['required']">Location is required</div>
                    </div>
                  </div>
        
                  <!-- Package -->
                  <div>
                    <label class="block text-sm font-medium text-gray-700">Package Amount (in LPA)</label>
                    <input type="number" [(ngModel)]="selectedPost.packageAmount" name="packageAmount" #packageField="ngModel" required
                      pattern="[0-9]+(\.[0-9]{1,2})?" min="0"
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                    <div class="text-red-500 text-sm mt-1" *ngIf="packageField.invalid && (packageField.dirty || packageField.touched || editPostForm.submitted)">
                      <div *ngIf="packageField.errors?.['required']">Package amount is required</div>
                      <div *ngIf="packageField.errors?.['pattern']">Please enter a valid amount</div>
                      <div *ngIf="packageField.errors?.['min']">Amount cannot be negative</div>
                    </div>
                  </div>
        
                  <!-- Portal Link -->
                  <div>
                    <label class="block text-sm font-medium text-gray-700">Portal Link <span class="italic">(optional)</span></label>
                    <input type="url" [(ngModel)]="selectedPost.portalLink" name="portalLink"
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                  </div>
                </div>
                
                <!-- Description -->
                <div class="mt-4">
                  <label class="block text-sm font-medium text-gray-700">Description</label>
                  <textarea [(ngModel)]="selectedPost.description" name="description" #descriptionField="ngModel" required rows="3"
                    class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"></textarea>
                  <div class="text-red-500 text-sm mt-1" *ngIf="descriptionField.invalid && (descriptionField.dirty || descriptionField.touched || editPostForm.submitted)">
                    <div *ngIf="descriptionField.errors?.['required']">Description is required</div>
                  </div>
                </div>
              </div>
              
              <!-- Eligibility Requirements Section -->
              <div class="bg-gray-50 p-4 rounded-md">
                <h4 class="text-md font-medium text-gray-700 mb-3">Eligibility Requirements</h4>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                  <!-- Minimum SSC % -->
                  <div>
                    <label class="block text-sm font-medium text-gray-700">Min SSC %</label>
                    <input type="number" [(ngModel)]="selectedPost.minimumSsc" name="minSSC" #minSscField="ngModel" required
                      min="35" max="100"
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                    <div class="text-red-500 text-sm mt-1" *ngIf="minSscField.invalid && (minSscField.dirty || minSscField.touched || editPostForm.submitted)">
                      <div *ngIf="minSscField.errors?.['required']">Minimum SSC percentage is required</div>
                      <div *ngIf="minSscField.errors?.['min'] || minSscField.errors?.['max']">SSC percentage must be between 35 and 100</div>
                    </div>
                  </div>
                  
                  <!-- Minimum HSC % -->
                  <div>
                    <label class="block text-sm font-medium text-gray-700">Min HSC %</label>
                    <input type="number" [(ngModel)]="selectedPost.minimumHsc" name="minHSC" #minHscField="ngModel" required
                      min="35" max="100"
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                    <div class="text-red-500 text-sm mt-1" *ngIf="minHscField.invalid && (minHscField.dirty || minHscField.touched || editPostForm.submitted)">
                      <div *ngIf="minHscField.errors?.['required']">Minimum HSC percentage is required</div>
                      <div *ngIf="minHscField.errors?.['min'] || minHscField.errors?.['max']">HSC percentage must be between 35 and 100</div>
                    </div>
                  </div>
                  
                  <!-- Minimum AVG % -->
                  <div>
                    <label class="block text-sm font-medium text-gray-700">Min AVG %</label>
                    <input type="number" [(ngModel)]="selectedPost.minPercentage" name="minAVG" #minAvgField="ngModel" required
                      min="35" max="100"
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                    <div class="text-red-500 text-sm mt-1" *ngIf="minAvgField.invalid && (minAvgField.dirty || minAvgField.touched || editPostForm.submitted)">
                      <div *ngIf="minAvgField.errors?.['required']">Minimum average percentage is required</div>
                      <div *ngIf="minAvgField.errors?.['min'] || minAvgField.errors?.['max']">Percentage must be between 35 and 100</div>
                    </div>
                  </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                  <!-- Backlog Allowance -->
                  <div>
                    <label class="block text-sm font-medium text-gray-700">Backlog Allowance</label>
                    <input type="number" [(ngModel)]="selectedPost.backlogAllowance" name="backlogAllowance" #backlogField="ngModel" required
                      min="0" max="10"
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                    <div class="text-red-500 text-sm mt-1" *ngIf="backlogField.invalid && (backlogField.dirty || backlogField.touched || editPostForm.submitted)">
                      <div *ngIf="backlogField.errors?.['required']">Backlog allowance is required</div>
                      <div *ngIf="backlogField.errors?.['min'] || backlogField.errors?.['max']">Backlog allowance must be between 0 and 10</div>
                    </div>
                  </div>
                  
                  <!-- Preferred Course -->
                  <div>
                    <label class="block text-sm font-medium text-gray-700">Preferred Course</label>
                    <input type="text" [(ngModel)]="selectedPost.preferredCourse" name="preferredCourse" #preferredCourseField="ngModel" required
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                    <div class="text-red-500 text-sm mt-1" *ngIf="preferredCourseField.invalid && (preferredCourseField.dirty || preferredCourseField.touched || editPostForm.submitted)">
                      <div *ngIf="preferredCourseField.errors?.['required']">Preferred course is required</div>
                    </div>
                  </div>

                  <!-- Student Year -->
                  <div>
                    <label class="block text-sm font-medium text-gray-700">Student Year</label>
                    <select [(ngModel)]="selectedPost.studentYear" name="studentYear" #studentYearField="ngModel" required
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                      <option value="">Select Student Year</option>
                      <option value="FE">FE (First Year)</option>
                      <option value="SE">SE (Second Year)</option>
                      <option value="TE">TE (Third Year)</option>
                      <option value="BE">BE (Final Year)</option>
                      <option value="ALL">All Years</option>
                    </select>
                    <div class="text-red-500 text-sm mt-1" *ngIf="studentYearField.invalid && (studentYearField.dirty || studentYearField.touched || editPostForm.submitted)">
                      <div *ngIf="studentYearField.errors?.['required']">Student year is required</div>
                    </div>
                  </div>
                </div>
                
                <!-- Skill Requirements -->
                <div class="mt-4">
                  <label class="block text-sm font-medium text-gray-700">Skill Requirements</label>
                  <input type="text" [(ngModel)]="selectedPost.skillRequirements" name="skillRequirements" #skillsField="ngModel" required
                    class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                  <div class="text-red-500 text-sm mt-1" *ngIf="skillsField.invalid && (skillsField.dirty || skillsField.touched || editPostForm.submitted)">
                    <div *ngIf="skillsField.errors?.['required']">Skill requirements are required</div>
                  </div>
                </div>
              </div>
              
              <!-- Selection Process Section -->
              <div class="bg-gray-50 p-4 rounded-md">
                <h4 class="text-md font-medium text-gray-700 mb-3">Selection Process</h4>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <!-- Selection Rounds -->
                  <div>
                    <label class="block text-sm font-medium text-gray-700">Selection Rounds</label>
                    <input type="text" [(ngModel)]="selectedPost.selectionRounds" name="selectionRounds" #roundsField="ngModel" required
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                    <div class="text-red-500 text-sm mt-1" *ngIf="roundsField.invalid && (roundsField.dirty || roundsField.touched || editPostForm.submitted)">
                      <div *ngIf="roundsField.errors?.['required']">Selection rounds are required</div>
                    </div>
                  </div>
                  
                  <!-- Mode of Recruitment -->
                  <div>
                    <label class="block text-sm font-medium text-gray-700">Mode of Recruitment</label>
                    <input type="text" [(ngModel)]="selectedPost.modeOfRecruitment" name="modeOfRecruitment" #modeField="ngModel" required
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                    <div class="text-red-500 text-sm mt-1" *ngIf="modeField.invalid && (modeField.dirty || modeField.touched || editPostForm.submitted)">
                      <div *ngIf="modeField.errors?.['required']">Mode of recruitment is required</div>
                    </div>
                  </div>
                  
                  <!-- Test Platform -->
                  <div>
                    <label class="block text-sm font-medium text-gray-700">Test Platform</label>
                    <input type="text" [(ngModel)]="selectedPost.testPlatform" name="testPlatform" #platformField="ngModel" required
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                    <div class="text-red-500 text-sm mt-1" *ngIf="platformField.invalid && (platformField.dirty || platformField.touched || editPostForm.submitted)">
                      <div *ngIf="platformField.errors?.['required']">Test platform is required</div>
                    </div>
                  </div>
                  
                  <!-- Aptitude Test -->
                  <div>
                    <label class="block text-sm font-medium text-gray-700">Aptitude Test</label>
                    <select [(ngModel)]="selectedPost.aptitude" name="aptitude" #aptitudeField="ngModel" required
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                      <option [ngValue]="true">Yes</option>
                      <option [ngValue]="false">No</option>
                    </select>
                    <div class="text-red-500 text-sm mt-1" *ngIf="aptitudeField.invalid && (aptitudeField.dirty || aptitudeField.touched || editPostForm.submitted)">
                      <div *ngIf="aptitudeField.errors?.['required']">Please select an aptitude option</div>
                    </div>
                  </div>
                </div>
              </div>
              
              <!-- Important Dates Section -->
              <div class="bg-gray-50 p-4 rounded-md">
                <h4 class="text-md font-medium text-gray-700 mb-3">Important Dates</h4>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <!-- Application Dates -->
                  <div>
                    <label class="block text-sm font-medium text-gray-700">Application Start Date</label>
                    <input type="date" [(ngModel)]="selectedPost.applicationStartDate" name="applicationStartDate" #startDateField="ngModel" required
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                    <div class="text-red-500 text-sm mt-1" *ngIf="startDateField.invalid && (startDateField.dirty || startDateField.touched || editPostForm.submitted)">
                      <div *ngIf="startDateField.errors?.['required']">Application start date is required</div>
                    </div>
                  </div>
                  
                  <div>
                    <label class="block text-sm font-medium text-gray-700">Application End Date</label>
                    <input type="date" [(ngModel)]="selectedPost.applicationEndDate" name="applicationEndDate" #endDateField="ngModel" required
                      [min]="selectedPost.applicationStartDate"
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                    <div class="text-red-500 text-sm mt-1" *ngIf="endDateField.invalid && (endDateField.dirty || endDateField.touched || editPostForm.submitted)">
                      <div *ngIf="endDateField.errors?.['required']">Application end date is required</div>
                      <div *ngIf="endDateField.errors?.['min']">End date must be after start date</div>
                    </div>
                  </div>
                  
                  <!-- Selection Dates -->
                  <div>
                    <label class="block text-sm font-medium text-gray-700">Selection Start Date</label>
                    <input type="date" [(ngModel)]="selectedPost.selectionStartDate" name="selectionStartDate" #selStartDateField="ngModel" required
                      [min]="selectedPost.applicationEndDate"
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                    <div class="text-red-500 text-sm mt-1" *ngIf="selStartDateField.invalid && (selStartDateField.dirty || selStartDateField.touched || editPostForm.submitted)">
                      <div *ngIf="selStartDateField.errors?.['required']">Selection start date is required</div>
                      <div *ngIf="selStartDateField.errors?.['min']">Selection start date must be after application end date</div>
                    </div>
                  </div>
                  
                  <div>
                    <label class="block text-sm font-medium text-gray-700">Selection End Date</label>
                    <input type="date" [(ngModel)]="selectedPost.selectionEndDate" name="selectionEndDate" #selEndDateField="ngModel" required
                      [min]="selectedPost.selectionStartDate"
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                    <div class="text-red-500 text-sm mt-1" *ngIf="selEndDateField.invalid && (selEndDateField.dirty || selEndDateField.touched || editPostForm.submitted)">
                      <div *ngIf="selEndDateField.errors?.['required']">Selection end date is required</div>
                      <div *ngIf="selEndDateField.errors?.['min']">Selection end date must be after selection start date</div>
                    </div>
                  </div>
                  
                  <!-- Aptitude Date -->
                  <div>
                    <label class="block text-sm font-medium text-gray-700">Aptitude Date</label>
                    <input type="date" [(ngModel)]="selectedPost.aptitudeDate" name="aptitudeDate" #aptitudeDateField="ngModel" required
                      [min]="selectedPost.selectionStartDate"
                      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                    <div class="text-red-500 text-sm mt-1" *ngIf="aptitudeDateField.invalid && (aptitudeDateField.dirty || aptitudeDateField.touched || editPostForm.submitted)">
                      <div *ngIf="aptitudeDateField.errors?.['required']">Aptitude date is required</div>
                      <div *ngIf="aptitudeDateField.errors?.['min']">Aptitude date must be after selection start date</div>
                    </div>
                  </div>
                </div>
              </div>
              
              <!-- Buttons -->
              <div class="flex justify-end space-x-3 mt-5">
                <button type="button" (click)="onPostEditCancel()"
                  class="px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200">
                  Cancel
                </button>
                <button type="submit"
                  class="px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed">
                  Update Post
                </button>
              </div>
            </form>
          </div>
        </div>
     
      </div>
    </div>
<div *ngIf="showEditApplicationModal" class="fixed inset-0 backdrop-blur bg-opacity-50 overflow-y-auto h-full w-full z-50">
          <div class="relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white">
            <div class="flex justify-between items-center mb-4">
              <h3 class="text-lg font-semibold text-gray-800">Edit Application</h3>
              <button (click)="showEditApplicationModal=false" class="text-gray-400 hover:text-gray-500">
                <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
              </button>
            </div>
            <form #editApplicationForm="ngForm" (ngSubmit)="onUpdateApplication()" class="space-y-4">
              <!-- Status -->
              <div>
                <label class="block text-sm font-medium text-gray-700">Change Status</label>
                <select [(ngModel)]="selectedApplication.status" name="status" required #status="ngModel"
                  class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                  <option selected value="APPLIED">APPLIED</option>
                  <option value="UNDER_REVIEW">UNDER REVIEW</option>
                  <option value="SHORTLISTED">SHORTLISTED</option>
       
                    <option value="INTERVIEWED">INTERVIEWED</option>
                  <option value="REJECTED">REJECTED</option>
                  <option value="OFFERED">OFFERED</option>
                  <option value="HIRED">HIRED</option>
                </select>
              </div>
              <!-- Interview Date -->
              <div>
                <label class="block text-sm font-medium text-gray-700">Interview  Date</label>
                <input type="date" [(ngModel)]="selectedApplication.interviewDate" name="interview_date" 
                  class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700">Interview Time</label>
                <input type="time" [(ngModel)]="selectedApplication.interviewTime" name="interview_time" 
                  class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700">Interview Location</label>
                <input type="text" [(ngModel)]="selectedApplication.interviewLocation" name="interview_location" 
                  class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
              </div>
              <!-- Feedback -->
              <div>
                <label class="block text-sm font-medium text-gray-700">Feedback</label>
                <textarea [(ngModel)]="selectedApplication.feedback" name="feedback"
                  class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"></textarea>
              </div>
              <!-- Buttons -->
              <div class="flex justify-end space-x-3 mt-5">
                <button type="button" (click)="showEditApplicationModal=false"
                  class="px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200">
                  Cancel
                </button>
                <button type="submit" [disabled]="!selectedApplication.status"
                class="px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed">
                Update Application
              </button>
              
              </div>
            </form>
           
          </div>
        
       </div>
          
    <!-- Application Search Section -->
    <div *ngIf="activeTab === 'applications'" class="bg-white rounded-xl shadow-lg p-6">    <div class="flex justify-between mb-4">
      <!-- Application Search Bar -->
      <div class="flex-grow mr-4">
        <div class="flex justify-between items-center border-[2px] border-gray-500 rounded-[20px] w-full h-[42px] px-4 bg-white shadow-md relative z-10">
          <input [(ngModel)]="applicationFilters.studentName" type="text" placeholder="Search by Student Name"  (keyup.enter)="loadApplications()"
            class="text-[#878787] text-[16px] font-roboto-flex font-extralight italic w-full bg-transparent outline-none" />
          <img src="Search.png" alt="Search Icon"
            class="w-[30px] h-[30px] object-contain cursor-pointer ml-4"
            (click)="loadApplications()" />
        </div>
      </div>
      <!-- Buttons -->
      <div class="flex space-x-2">
     
        <button (click)="downloadExcel()" class="text-white px-4 py-2 rounded-lg hover:bg-blue-700">
          <img src="Download.png" alt="Download" class="w-6 h-6 inline-block" />
        </button>
      </div>
    </div>

      <!-- Application Filter Bar -->
      <div class="flex justify-between items-center border-[2px] border-gray-500 rounded-[20px] w-full h-[42px] px-4 mb-6 bg-[#4073BF] shadow-md relative z-10">
        <select [(ngModel)]="applicationFilters.status" (ngModelChange)="onFilterChange()" class="bg-[#4073BF] text-white text-[16px] font-roboto-flex rounded-[20px] px-4 py-1 focus:outline-none">
          <option selected value="APPLIED">APPLIED</option>
          <option value="UNDER_REVIEW">UNDER REVIEW</option>
          <option value="SHORTLISTED">SHORTLISTED</option>
          <option value="INTERVIEWED">INTERVIEWED</option>
          <option value="REJECTED">REJECTED</option>
          <option value="OFFERED">OFFERED</option>
          <option value="HIRED">HIRED</option>
        </select>
        <select [(ngModel)]="applicationFilters.department" (ngModelChange)="onFilterChange()" class="bg-[#4073BF] text-white text-[16px] font-roboto-flex rounded-[20px] px-4 py-1 focus:outline-none">
          <option value="">Department</option>
          <option *ngFor="let dept of departments" [value]="dept">{{dept}}</option>
        </select>
        <input type="date" [(ngModel)]="applicationFilters.fromDate" (ngModelChange)="onFilterChange()"
          class="bg-[#4073BF] text-white text-[16px] font-roboto-flex rounded-[20px] px-4 py-1 focus:outline-none"
          placeholder="From Date"/>
        <input type="date" [(ngModel)]="applicationFilters.toDate" (ngModelChange)="onFilterChange()"
          class="bg-[#4073BF] text-white text-[16px] font-roboto-flex rounded-[20px] px-4 py-1 focus:outline-none"
          placeholder="To Date"/>
        <button (click)="resetApplicationFilters()" class="bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-[20px] text-[14px] font-medium">
          Clear
        </button>
      </div>

      <!-- Application Table -->
      <div class="table-container overflow-x-auto">
        <table class="min-w-full divide-y divide-gray-200">
          <thead>
            <tr class="bg-gray-50">
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Student Name</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Company</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Designation</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Department</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Applied Date</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Interview Date</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
            </tr>
          </thead>
          <tbody class="bg-white divide-y divide-gray-200">
            <tr *ngFor="let application of applications" class="hover:bg-gray-50">
              <td class="px-6 py-4 whitespace-nowrap">
                <div class="flex items-center">
                  <a [routerLink]="['/view_profile', application.student.id]">
                  <div class="flex-shrink-0 h-10 w-10">
                    <img *ngIf="application.student.profileImageBase64" 
                         [src]="'data:image/jpeg;base64,' + application.student.profileImageBase64" 
                         class="h-10 w-10 rounded-full"
                         alt="Profile">
                    <div *ngIf="!application.student.profileImageBase64" 
                         class="h-10 w-10 rounded-full bg-cyan-200 flex items-center justify-center">
                      <span class="text-gray-600">{{application.student.firstName[0]}}</span>
                    </div>
                  </div></a>  <a [routerLink]="['/view_profile', application.student.id]">
                  <div class="ml-4 max-w-xs">
                    <div class="text-sm font-medium text-gray-900 truncate">
                      {{application.student.firstName}} {{application.student.middleName}} {{application.student.lastName}}
                    </div>
                    <div class="text-sm text-gray-500 truncate">
                      {{application.student.user.email}}
                    </div>
                  </div></a>
                </div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap max-w-xs">
                <div class="text-sm text-gray-900 truncate">{{application.jobPost.company.name}}</div>
                <div class="text-sm text-gray-500 truncate">{{application.jobPost.company.industry}}</div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap max-w-xs">
                <div class="text-sm text-gray-900 truncate">{{application.designation}}</div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                {{application.student.department}}
               
              </td>
              <td class="px-6 py-4 whitespace-nowrap">
                <span [class]="'px-2 inline-flex text-xs leading-5 font-semibold rounded-full ' + 
                  (application.status === 'APPLIED' ? 'bg-blue-100 text-blue-800' :
                   application.status === 'SHORTLISTED' ? 'bg-yellow-100 text-yellow-800' :
                   application.status === 'INTERVIEWED' ? 'bg-purple-100 text-purple-800' :
                   application.status === 'OFFERED' ? 'bg-cyan-100 text-cyan-800' :
                   application.status === 'HIRED' ? 'bg-green-100 text-green-800' :
                   'bg-red-100 text-red-800')">
                  {{application.status}}
                </span>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                {{application.applicationDate | date:'mediumDate'}}
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                {{application.interviewDate ? (application.interviewDate | date:'mediumDate') : 'Not Scheduled'}}
                {{application.interviewTime ? "/"+ formatTime(application.interviewTime) : ''}}
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                <button class="text-indigo-600 hover:text-indigo-900" (click)="onApplicationedit(application.id)"> <img src="edit.png" alt="Edit" class="w-[20px] h-[20px] sm:w-[26px] sm:h-[24px] object-contain" /></button>
              </td>
            </tr>
          </tbody>
        </table>
        
        <!-- Application Pagination Controls -->
        <div class="bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6">
          <div class="flex-1 flex justify-between sm:hidden">
            <button [disabled]="applicationPagination.first" 
                    (click)="onApplicationPageChange(applicationPagination.currentPage - 1)"
                    class="relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed">
              Previous
            </button>
            <button [disabled]="applicationPagination.last" 
                    (click)="onApplicationPageChange(applicationPagination.currentPage + 1)"
                    class="ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed">
              Next
            </button>
          </div>
          <div class="hidden sm:flex-1 sm:flex sm:items-center sm:justify-between">
            <div class="flex items-center space-x-2">
              <p class="text-sm text-gray-700">
                Showing
                <span class="font-medium">{{ applicationPagination.currentPage * applicationPagination.pageSize + 1 }}</span>
                to
                <span class="font-medium">{{ getApplicationEndIndex() }}</span>
                of
                <span class="font-medium">{{ applicationPagination.totalElements }}</span>
                results
              </p>
              <select [(ngModel)]="applicationPagination.pageSize" 
                      (ngModelChange)="onApplicationPageSizeChange($event)"
                      class="border border-gray-300 rounded px-2 py-1 text-sm">
                <option [value]="5">5 per page</option>
                <option [value]="10">10 per page</option>
                <option [value]="25">25 per page</option>
                <option [value]="50">50 per page</option>
              </select>
            </div>
            <div>
              <nav class="relative z-0 inline-flex rounded-md shadow-sm -space-x-px" aria-label="Pagination">
                <button [disabled]="applicationPagination.first" 
                        (click)="onApplicationPageChange(applicationPagination.currentPage - 1)"
                        class="relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed">
                  <span class="sr-only">Previous</span>
                  <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
                  </svg>
                </button>
                
                <button *ngFor="let page of getApplicationPageNumbers()" 
                        (click)="onApplicationPageChange(page)"
                        [class.bg-blue-50]="page === applicationPagination.currentPage"
                        [class.border-blue-500]="page === applicationPagination.currentPage"
                        [class.text-blue-600]="page === applicationPagination.currentPage"
                        [class.bg-white]="page !== applicationPagination.currentPage"
                        [class.border-gray-300]="page !== applicationPagination.currentPage"
                        [class.text-gray-500]="page !== applicationPagination.currentPage"
                        class="relative inline-flex items-center px-4 py-2 border text-sm font-medium hover:bg-gray-50">
                  {{ page + 1 }}
                </button>
                
                <button [disabled]="applicationPagination.last" 
                        (click)="onApplicationPageChange(applicationPagination.currentPage + 1)"
                        class="relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed">
                  <span class="sr-only">Next</span>
                  <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                  </svg>
                </button>
              </nav>
            </div>
          </div>
        </div>
        
        <div *ngIf="showEditApplicationModal" class="fixed inset-0 backdrop-blur bg-opacity-50 overflow-y-auto h-full w-full z-50">
          <div class="relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white">
            <div class="flex justify-between items-center mb-4">
              <h3 class="text-lg font-semibold text-gray-800">Edit Application</h3>
              <button (click)="showEditApplicationModal=false" class="text-gray-400 hover:text-gray-500">
                <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
              </button>
            </div>
            <form #editApplicationForm="ngForm" (ngSubmit)="onUpdateApplication()" class="space-y-4">
              <!-- Status -->
              <div>
                <label class="block text-sm font-medium text-gray-700">Change Status</label>
                <select [(ngModel)]="selectedApplication.status" name="status" required #status="ngModel"
                  class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                  <option selected value="APPLIED">APPLIED</option>
                  <option value="UNDER_REVIEW">UNDER REVIEW</option>
                  <option value="SHORTLISTED">SHORTLISTED</option>
       
                    <option value="INTERVIEWED">INTERVIEWED</option>
                  <option value="REJECTED">REJECTED</option>
                  <option value="OFFERED">OFFERED</option>
                  <option value="HIRED">HIRED</option>
                </select>
              </div>
              <!-- Interview Date -->
              <div>
                <label class="block text-sm font-medium text-gray-700">Interview Date</label>
                <input type="date" [(ngModel)]="selectedApplication.interviewDate" name="interview_date" 
                  class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
              </div>
              <!-- Feedback -->
              <div>
                <label class="block text-sm font-medium text-gray-700">Interview Time</label>
                <input type="time" [(ngModel)]="selectedApplication.interviewTime" name="interview_time" 
                  class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700">Interview Location</label>
                <input type="text" [(ngModel)]="selectedApplication.interviewLocation" name="interview_location" 
                  class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700">Feedback</label>
                <textarea [(ngModel)]="selectedApplication.feedback" name="feedback"
                  class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"></textarea>
              </div>
              <!-- Buttons -->
              <div class="flex justify-end space-x-3 mt-5">
                <button type="button" (click)="showEditApplicationModal=false"
                  class="px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200">
                  Cancel
                </button>
                <button type="submit" [disabled]="!selectedApplication.status"
                class="px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed">
                Update Application
              </button>
              
              </div>
            </form>
          </div>
        </div>
        
      </div>
    </div>
  </div>
</body>

</html>